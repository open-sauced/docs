"use strict";(self.webpackChunk_open_sauced_docs_opensauced_pizza=self.webpackChunk_open_sauced_docs_opensauced_pizza||[]).push([[8167],{4642:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>t});var c=s(4848),i=s(8453);const o={id:"check-engines",title:"@open-sauced/check-engines",sidebar_label:"@open-sauced/check-engines",keywords:["check engines"]},a=void 0,d={id:"opensauced-packages/check-engines",title:"@open-sauced/check-engines",description:"Description",source:"@site/docs/opensauced-packages/check-engines.md",sourceDirName:"opensauced-packages",slug:"/opensauced-packages/check-engines",permalink:"/opensauced-packages/check-engines",draft:!1,unlisted:!1,editUrl:"https://github.com/open-sauced/docs.opensauced.pizza/edit/main/docs/opensauced-packages/check-engines.md",tags:[],version:"current",lastUpdatedBy:"BekahHW",lastUpdatedAt:1717170876e3,frontMatter:{id:"check-engines",title:"@open-sauced/check-engines",sidebar_label:"@open-sauced/check-engines",keywords:["check engines"]},sidebar:"docs",previous:{title:"Resolve Merge Conflicts",permalink:"/contributing/technical/resolve-merge-conflicts"},next:{title:"@open-sauced/conventional-commit",permalink:"/opensauced-packages/conventional-commit"}},r={},t=[{value:"Description",id:"description",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"FAQs",id:"faqs",level:2},{value:"Usage on an Older <code>node</code> and <code>npm</code> Versions",id:"usage-on-an-older-node-and-npm-versions",level:3},{value:"Why Not Use <code>check-engines</code> or <code>engine-strict</code>?",id:"why-not-use-check-engines-or-engine-strict",level:3},{value:"Library Usage",id:"library-usage",level:3},{value:"Contributing",id:"contributing",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"npm"})," package ",(0,c.jsx)(n.code,{children:"@open-sauced/check-engines"})," is designed to help contributors install dependencies conforming to the ",(0,c.jsx)(n.code,{children:"engines"})," property in ",(0,c.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,c.jsx)(n.p,{children:"This package uses the following modules:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/npm/npm-install-checks",children:"npm-install-checks"})}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"npm install --save-dev @open-sauced/check-engines\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Add the verification scripts to your ",(0,c.jsx)(n.code,{children:"scripts"})," section in the ",(0,c.jsx)(n.code,{children:"package.json"})," file:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "preinstall": "npx @open-sauced/check-engines"\n  }\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["The reason why we provide ",(0,c.jsx)(n.code,{children:"npx"})," in the ",(0,c.jsx)(n.code,{children:"scripts"})," section is for the people using this as a development enhancement, interactive configurations or trimmed dependency trees, where using ",(0,c.jsx)(n.code,{children:"npx"})," is preferred over installing all the dependencies at once."]}),"\n",(0,c.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,c.jsx)(n.p,{children:"Use your favorite package manager to install dependencies in your project or, if you set it as a global verification system:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "check-engines": "npx @open-sauced/check-engines"\n    "preinstall": "npm run check-engines",\n    "prestart": "npm run check-engines"\n  }\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,c.jsx)(n.p,{children:"If you have an API or any other non-library type of application, you can decouple this package from any install scripts and just use it as a verification:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "check-engines": "npx @open-sauced/check-engines"\n    "prestart": "npm run check-engines"\n  }\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["A more traditional approach not using ",(0,c.jsx)(n.code,{children:"pre"})," or ",(0,c.jsx)(n.code,{children:"post"})," scripts, this example enables the check only for local machine development:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "check-engines": "npx @open-sauced/check-engines"\n    "start": "...",\n    "dev": "npm run check-engines && npm start -- --watch"\n  }\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"faqs",children:"FAQs"}),"\n",(0,c.jsxs)(n.h3,{id:"usage-on-an-older-node-and-npm-versions",children:["Usage on an Older ",(0,c.jsx)(n.code,{children:"node"})," and ",(0,c.jsx)(n.code,{children:"npm"})," Versions"]}),"\n",(0,c.jsxs)(n.p,{children:["Older ",(0,c.jsx)(n.code,{children:"node"})," and ",(0,c.jsx)(n.code,{children:"npm"})," versions won't be able to run this package; depending on the versions, the scripts section could be ignored completely."]}),"\n",(0,c.jsx)(n.p,{children:"If you have that use case, this package is only worth enabling for progressive contributors frequently missing the legacy support of the respective module and forcefully upgrading dependencies - them running newer versions will force the error message and explicitly disable."}),"\n",(0,c.jsxs)(n.h3,{id:"why-not-use-check-engines-or-engine-strict",children:["Why Not Use ",(0,c.jsx)(n.code,{children:"check-engines"})," or ",(0,c.jsx)(n.code,{children:"engine-strict"}),"?"]}),"\n",(0,c.jsxs)(n.p,{children:["As described in the ",(0,c.jsx)(n.code,{children:"npm@6"})," ",(0,c.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v6/configuring-npm/package-json#enginestrict",children:"engine-strict docs"}),":"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["Prior to npm 3.0.0, this feature was used to treat this package as if the user had set ",(0,c.jsx)(n.code,{children:"engine-strict"}),". It is no longer used."]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["In ",(0,c.jsx)(n.code,{children:"npm@6"})," and later, this was re-introduced as a ",(0,c.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v7/using-npm/config#engine-strict",children:"config flag"}),"."]}),"\n",(0,c.jsx)(n.p,{children:"This package is designed with multiple legacy use cases in mind."}),"\n",(0,c.jsx)(n.h3,{id:"library-usage",children:"Library Usage"}),"\n",(0,c.jsxs)(n.p,{children:["If you use this module in a library package, be advised that any ",(0,c.jsx)(n.code,{children:"*install"})," script will run in the parent module when installed."]}),"\n",(0,c.jsxs)(n.p,{children:["For example, given a module ",(0,c.jsx)(n.code,{children:"@demo-org/demo-package"})," with a ",(0,c.jsx)(n.code,{children:'preinstall: "npx @open-sauced/check-engines"'})," script, running ",(0,c.jsx)(n.code,{children:"npm install @demo-org/demo-package"})," will require your locally installed ",(0,c.jsx)(n.code,{children:"node"})," and ",(0,c.jsx)(n.code,{children:"npm"})," versions to match the ",(0,c.jsx)(n.code,{children:"engines"})," section of your ",(0,c.jsx)(n.code,{children:"package.json"}),". If that is not set, nothing should happen, and this package is a stray dependency in either ",(0,c.jsx)(n.code,{children:"@demo-org/demo-package"})," or the module you are running this command in."]}),"\n",(0,c.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,c.jsx)(n.p,{children:"We're always happy to onboard people into open source!"}),"\n",(0,c.jsxs)(n.p,{children:["Check out the repository at ",(0,c.jsx)(n.a,{href:"https://github.com/open-sauced/check-engines",children:"@open-sauced/check-engines"}),". \u2764\ufe0f"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var c=s(6540);const i={},o=c.createContext(i);function a(e){const n=c.useContext(o);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),c.createElement(o.Provider,{value:n},e.children)}}}]);